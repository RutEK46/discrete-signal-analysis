\chapter{Analiza techniczna}
Analiza techniczna to narzêdzie s³u¿¹ce do analizy wykresów gie³dowych, która ma na celu prognozê przysz³ych cen kursów na podstawie historycznych zmian cen. Modele analizy technicznej charakteryzuj¹ pewne powtarzalne schematy mo¿liwe do zaobserwowania w zmianach cen akcji. W zale¿noœci od danego modelu mo¿na zaobserwowaæ powtarzalne zachowanie wskaŸników statystycznych.

Poni¿ej zosta³y zaprezentowane zasady dzia³ania wskaŸników stosowanych w analizie technicznej, które zosta³y zaimplementowane w projekcie.
\section{MACD}
\subsection{wprowadzenie}
MACD to skrót od Moving Average Convergence Divergence co w polskim t³umaczeniu oznacza zbie¿noœæ i rozbie¿noœæ œredniej krocz¹cej.

WskaŸnik ten zosta³ opracowany przez Geralda Appel'a w roku 1970. Opracowa³ on fundamentaln¹ w³aciwoœæ tego wskaŸnika, czyli interpretacjê i przewidywanie przeciêæ linii MACD. Nastêpnie w roku 1986 dodany zosta³ histogram przez Thomasa Aspray'a, które umo¿liwi³o obserwacjê impetu ceny.

Aktualnie MACD jest jednym z najpoplarniejszych wskaŸników stosowanych w analizie technicznej. Zawdziêcza to dziêki temu, ¿e jest ³atwy w interpretacji sygna³ów oraz dziêki mo¿liwoœci zastosowania go w ró¿nych warunkach rynkowych - zarówno stablilnej, jak i w trakcie nag³ych wzrostów, b¹dŸ spadków cen.
\subsection{zasady dzia³ania}
\subsubsection{wzór}
Tym co wyró¿nia wskaŸnik MACD jest po³¹czenie dwóch ró¿nych typów wskaŸników. Wzór wskaŸnika wyznacza sygna³y kupna, b¹dŸ sprzeda¿y na podstawie dwóch linii zwanych lini¹ macd i lini¹ sygna³ow¹.

Do wyznaczenia linii MACD wykorzystywana jest ró¿nica dwóch œrednich ruchomych sygna³u wejciowego X, o ró¿nych okresach. Standardowo przyjmowane s¹ 26 i 12 okresowe przedzia³y œredniej wyk³adniczej, jest to ustawienie domylne. Linia MACD s³u¿y do identyfikacji kierunku i czasu trwania trendu.

Nastêpnie linia signal wyliczana jest na podstawie najczêœciej 9 okresowej œredniej wyk³adniczej z linii MACD. 
\begin{equation}
\begin{array}{lll}
MACD & = & EMA_{26}(X) - EMA_{12}(X) \\
signal & = & EMA_{9}(MACD)
\end{array}
\end{equation}
\subsubsection{strategia decyzyjna}
Strategia MACD opiera siê g³ównie o interpretacjê przeciêæ linii sygna³u z lini¹ MACD. Analiza przeciêæ wygl¹da w nastêpuj¹cy sposób:
\begin{itemize}
    \item Sygna³ na kupno akcji - linia MACD jest nad lini¹ signal
    \item Sygna³ na sprzeda¿ akcji - linia MACD jest pod lini¹ signal
\end{itemize}
\hfill

Od odpowiedniej interpretacji sygna³ów zale¿y równie¿ fakt przeciêcia linii zero oraz odleg³oæ od tej linii. W momencie gdy sygna³ kupna jest generowany znacz¹co poni¿ej linii zero to jest on interpretowany jako bardziej wiarygodny. Czym wiêksza jest w³aœnie odleg³oœæ od linii zera, tym wiêksza wiarygodnoœæ. Równie¿ tym wiêksze jest prawdopodobieñstwo kontynuowania ruchu spadkowego. Analogicznie dzieje siê dla sygna³u sprzeda¿y gdy sygna³ ten jest generowany znacz¹co powy¿ej linii zero.

\begin{figure*}[!h]
  % wyœrodkowanie zawartoœci pola obrazka
  \begin{center}
    % okienko skaluj¹ce:
    %  pierwszy argument szerokoœæ, drugi wysokoœæ,
    %  jeden z nich mo¿e byæ zast¹piony ! - zachowanie proporcji obrazka
    %  w taki sposób mo¿emy skalowaæ tak¿e inne obiekty np. tekst
    \resizebox{1\textwidth}{!}{
      % wstawienie obrazka
	\includegraphics{rysunki/Input}
      \includegraphics{rysunki/MACD}
    }
    % opis obrazka
    \caption[MACD]{Wykres po lewej przedstawia analizowany sygna³. Po prawej zaznaczona jest linia MACD oraz signal. Na wykresie mo¿na wyraŸnie zobaczyæ momenty przecinania siê sygna³ów.}
    % etykieta
    \label{Wykres MACD}
  \end{center}
\end{figure*}

Interpretacjê wskaŸnika MACD mo¿na wzbogaciæ o analizê histogramu MACD. Dziêki tej funkcjonalnoœci mo¿na zaobserwowaæ lokalne szczyty cenowe dla wartoœci histogramu powy¿ej zera. Analogicznie dla wartoœci kszta³tuj¹cych siê poni¿ej zera obserwuje siê do³ki cenowe. Szersza interpretacja histogramu nie bêdzie omawiana, gdy¿ opisywana aplikacja nie uwzglêdnia tej funkcjonalnoœci. 

Oczywiœcie tak jak w przypadku ka¿dego innego wskaŸnika sygna³ kupna czy sprzeda¿y nie daje ¿adnej gwarancji, ¿e zyskamy na transakcji.

\subsection{przyk³ady numeryczne}
\subsection{podsumowanie}
MACD jest wartoœciowym wskaŸnikiem, poniewa¿ ³¹czy w sobie dwa ró¿ne wskaŸniki. Ponadto s³u¿y do wszestronnej analizy, poniewa¿ za jego pomoc¹ mo¿na interpretowaæ nie tylko sygna³y spadkowe i rosn¹ce, ale tak¿e umo¿liwia œledzenie potencjalnych do³ków lub szczytów cenowych.

Generalnie wskaŸnik MACD znajduje najlepsze zastosowanie w œrednim oraz d³ugim terminie, poniewa¿ powsta³ w celu wykorzystania go na wykresie dziennym. Przy mniejszych okresach mo¿e jednak powodowaæ opóŸnione sygna³y.

\section{Wstêgi Bollingera}
Wstêgi Bollintera sk³adaj¹ ciê w trzech wstêg - górnej wstêgi, œrodkowej wstêgi i dolnej wstêgi (ang. upper band, middle band, bottom band). Œrodkowa wstêga jest œredni¹ SMA z ostatnich $n$ próbek sygna³u $X$. Górna wstêga to suma œrodkowej wstêgi wraz z k-krotnoœci¹ odchylenia standardowego $\sigma^2$ z $n$ ostatnich próbek, natomiast dolna wstêga to ró¿nica œrodkowej wstêgi i k-krotnoœci odchylenia standardowego z $n$ ostatnich próbek. Najczêœciej stosowane parametry to $n=20$ oraz $k=2$.
\begin{equation}
\begin{array}{lll}
upper \: band & = & SMA_{n}(X) + k*\sigma^2_{n}(X) \\
middle \: band & = & SMA_{n}(X) \\
bottom \: band & = & SMA_{n}(X) - k*\sigma^2_{n}(X)
\end{array}
\end{equation}
Wstêgi Bollingera interpretuje siê w nastêpuj¹cy sposób:
\begin{itemize}
    \item Sygna³ na kupno akcji - sygna³ wejœciowy zbli¿a siê do dolnej wstêgi b¹dŸ jest pod ni¹ (wtedy jest du¿a szansa, ¿e cena akcji zacznie rosn¹æ)
    \item Sygna³ na sprzeda¿ akcji - sygna³ wejœciowy zbli¿a siê do górnej wstêgi b¹dŸ jest nad ni¹ (wtedy jest du¿a szansa, ¿e cena akcji zacznie spadaæ)
\end{itemize}
\begin{figure*}[!h]
  % wyœrodkowanie zawartoœci pola obrazka
  \begin{center}
    % okienko skaluj¹ce:
    %  pierwszy argument szerokoœæ, drugi wysokoœæ,
    %  jeden z nich mo¿e byæ zast¹piony ! - zachowanie proporcji obrazka
    %  w taki sposób mo¿emy skalowaæ tak¿e inne obiekty np. tekst
    \resizebox{0.5\textwidth}{!}{
      % wstawienie obrazka
      \includegraphics{rysunki/Bollinger Bands}
    }
    % opis obrazka
    \caption[Wstêgi Bollingera]{Przedstawia wykres wstêg bollingera wraz z sygna³em wejœciowym Input.}

    % etykieta
    \label{Wykres wstêg Bollingera}
  \end{center}
\end{figure*}

\section{Oscylator Stochastyczny}
$<<<$ todo $>>>$
\section{WskaŸnik zagregowany}
WskaŸnik zagregowany sk³ada siê z $N$ poprzednich wskaŸników. Jest on sum¹ odpowiednich wag przemno¿onych przez znormalizowan¹ wartoœæ wynikaj¹c¹ z wartoœci wyznaczonych przez poprzedni wskaŸnik (np. MACD). Dodatkow¹ wartoœci¹ pojawiaj¹c¹ siê we wzorze jest wartoœæ progowa $\omega_0$, któr¹ mo¿na interpretowaæ jako tendencjê do kupna lub sprzeda¿y. Je¿eli jest ona ujemna, nasz wskaŸnik bêdzie wykazywa³ mniejsz¹ tendencjê do kupna i pozosta³e wartoœci bêd¹ musia³y byæ wiêksze, ¿eby pokaza³ sygna³ do kupna. 
\begin{equation}
y = \omega_0 + \sum^N_{i = 1}(\alpha_i*\omega_i)
\end{equation}
\subsection{Normalizacja wskaŸników}
Do normalizacji wskaŸników wykorzystujemy funckje aktywacyjne popularne w sieciach neurnowych. Funkcje aktywacyjne, które planujemy wykorzystaæ maj¹ nastêpuj¹ce cechy:
\begin{itemize}
    \item Przyjmuj¹ wartoœci w ca³ej dziedzinie liczb rzeczywistych ${\rm I\!R}$
    \item Wartoœci zwracane s¹ w przedzia³ach $(-1, 1)$ albo $(0, 1)$
    \item S¹ ci¹g³e i rosn¹ce
\end{itemize}
W naszym przypadku wykorzystujemy $\tanh$. Gdy zwrócona przez $\tanh$ wartoœæ bêdzie wiêksza od zera, jest to sygna³ do zakupu akcji dla danego wskaŸnika, a gdy wartoœæ jest mniejsza ni¿ 0 - sygna³ do sprzedania. Wagi pozwalaj¹ stwierdziæ jak wa¿na ma byæ decyzja danego wskaŸnika i podobnie jak w przypadku $\tanh$, je¿eli wartoœæ naszego zagregowanego wskaŸnika jest wiêksza ni¿ 0, jest to sygna³ do kupna, a w przeciwnym wypadku do sprzeda¿y.
\subsubsection{Normalizacja MACD}
$<<<$ todo $>>>$
\subsubsection{Normalizacja wstêg Bollingera}
$<<<$ todo $>>>$
\subsubsection{Normalizacja oscylatora stochastycznego}
$<<<$ todo $>>>$
\subsection{Algorytm Genetyczny}
$<<<$ todo $>>>$
